<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Design Build Strategies ‚Äî Links</title>
  <meta name="description" content="One tap access to Design Build Strategies ‚Äî architecture & general contracting." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0a0a0a; --card:#111315; --muted:#9aa4af; --text:#ffffff; --accent:#ff7a00; --accent2:#ffd2a3;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 80% -10%, rgba(255,122,0,.08), transparent 60%),
        radial-gradient(1200px 800px at -10% 110%, rgba(255,210,163,.12), transparent 60%),
        var(--bg);
    }
    a{color:inherit; text-decoration:none}

    /* Layout */
    .container{max-width:720px; margin:0 auto; padding:32px 20px 56px}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08); border-radius:20px; padding:24px 20px;
      opacity:0; transform:translateY(6px); transition:opacity .5s ease .2s, transform .5s ease .2s;
    }
    .card.is-visible{opacity:1; transform:none}

    /* Header: centered stack, logo on top */
    .header{display:flex; flex-direction:column; align-items:center; text-align:center; gap:12px}
    .logo{
      width:76px; height:76px; border-radius:18px; display:grid; place-items:center;
      background:#0f0f0f; border:1px solid rgba(255,122,0,.55); overflow:hidden; padding:8px;
      box-shadow:0 8px 30px rgba(255,122,0,.12);
    }
    .logo img{width:100%; height:100%; object-fit:contain; image-rendering:auto; display:block}
    .title{font-size:32px; font-weight:800; line-height:1.15; margin:8px 0 0}
    .subtitle{margin:2px 0 0; color:var(--muted); letter-spacing:.2px}

    .grid{display:grid; gap:14px; margin-top:18px}
    .linkbtn{
      display:flex; align-items:center; gap:12px; padding:16px 16px; border-radius:14px;
      border:1px solid rgba(255,122,0,.25);
      background:linear-gradient(180deg, rgba(255,122,0,.12), rgba(255,122,0,.06));
      transition:transform .08s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease
    }
    .linkbtn:hover{transform:translateY(-1px); border-color:rgba(255,122,0,.45); box-shadow:0 8px 20px rgba(255,122,0,.15)}
    .icon{width:22px; height:22px; opacity:.9}

    .section{margin-top:24px}
    .h2{font-size:14px; letter-spacing:.12em; color:var(--accent); margin:0 0 10px; text-transform:uppercase}
    .footer{margin-top:26px; display:flex; justify-content:center; align-items:center; color:var(--muted); font-size:12px}
    .badge{font-size:11px; padding:4px 8px; border-radius:999px; background:rgba(255,122,0,.08); border:1px solid rgba(255,122,0,.35); color:#ffcaa1}
    .divider{height:1px; background:linear-gradient(90deg, transparent, rgba(255,122,0,.35), transparent); margin:18px 0}
    .small{font-size:12px; color:var(--muted)}

    /* Intro overlay */
    .intro{
      position:fixed; inset:0; display:grid; place-items:center; z-index:999;
      background:radial-gradient(900px 600px at 50% -10%, rgba(255,122,0,.12), transparent 60%), var(--bg);
      transition:opacity .5s ease;
    }
    .intro.hidden{opacity:0; pointer-events:none}
    .intro-logo{
      width:120px; height:120px; border-radius:24px; background:#0f0f0f; border:1px solid rgba(255,122,0,.6);
      display:grid; place-items:center; overflow:hidden; padding:14px; box-shadow:0 12px 40px rgba(255,122,0,.2);
      will-change:transform, opacity, filter;
      animation:introPulse 1.1s ease-in-out 1;
    }
    .intro-logo img{width:100%; height:100%; object-fit:contain; display:block}

    @keyframes introPulse{
      0% { transform:scale(.92); filter:brightness(.95); box-shadow:0 0 0 rgba(255,122,0,0); }
      50%{ transform:scale(1.03); filter:brightness(1.05); box-shadow:0 14px 60px rgba(255,122,0,.25); }
      100%{ transform:scale(1.0); filter:none; box-shadow:0 12px 40px rgba(255,122,0,.2); }
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .intro-logo{animation:none}
      .card{transition:none}
    }

    @media (max-width:480px){
      .logo{width:64px; height:64px}
      .title{font-size:26px}
    }
  </style>

  <!-- Root-relative favicon paths -->
  <link rel="icon" href="/favicon-64.png" sizes="64x64">
  <link rel="icon" type="image/png" href="/favicon-64.png">
  <link rel="apple-touch-icon" href="/favicon-64.png">
</head>
<body>
  <script>
  (function(){
    const paths = [
      document.getElementById('brandLogo')?.getAttribute('src') || 'logo.png',
      './logo.png', '/logo.png', 'assets/logo.png', '/assets/logo.png',
      'Logo.png', './Logo.png', '/Logo.png', 'logo.PNG', './logo.PNG'
    ];
    const panel = document.createElement('div');
    panel.style.cssText = 'position:fixed;bottom:10px;right:10px;z-index:9999;background:#111315;color:#ffd8b3;border:1px solid rgba(255,122,0,.4);padding:10px 12px;border-radius:10px;font:12px/1.2 Inter,system-ui';
    panel.innerHTML = '<b>Logo path check</b><div id="lg-results" style="margin-top:6px"></div>';
    document.body.appendChild(panel);
    const out = document.getElementById('lg-results');

    (async () => {
      for (const p of paths) {
        try{
          const r = await fetch(p+'?v='+Date.now(), {method:'HEAD', cache:'no-store'});
          out.insertAdjacentHTML('beforeend', `<div>${r.ok ? '‚úÖ' : '‚ùå'} <code>${p}</code> ${r.status}</div>`);
          if (r.ok) {
            // set the working one
            const img = document.getElementById('brandLogo');
            if (img) img.src = p;
            break;
          }
        }catch(e){
          out.insertAdjacentHTML('beforeend', `<div>‚ùå <code>${p}</code> (error)</div>`);
        }
      }
    })();
  })();
  </script>

  <!-- Opening animation overlay -->
  <div class="intro" id="intro" aria-hidden="true">
    <div class="intro-logo" id="introLogo">
      <img src="/logo.png" alt="DBS">
    </div>
  </div>

  <main class="container">
    <section class="card" id="mainCard">
      <!-- Centered header with logo on top -->
      <div class="header">
        <div class="logo" id="headerLogo">
          <img id="brandLogo" src="/logo.png" alt="Design Build Strategies logo" width="256" height="256" decoding="async" loading="eager">
        </div>
        <div>
          <h1 class="title">Design Build Strategies</h1>
          <p class="subtitle">General Contractor ¬∑ Design</p>
          <p class="subtitle">üìç SoCal</p>
          <p class="subtitle">Residential & Commercial</p>
        </div>
      </div>

      <div class="section">
        <div class="grid">
          <a class="linkbtn" href="https://www.dbstrategies.net" target="_blank" rel="noopener">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M10.59 13.41a1 1 0 0 0 1.41 1.41l4-4a1 1 0 0 0-1.41-1.41l-4 4ZM8 7h8a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3Z"/></svg>
            <div><div>Company Website</div></div>
          </a>

          <a class="linkbtn" id="vcardLink" download="DBS.vcf">vCard (save our contact)</a>

          <a class="linkbtn" href="https://www.google.com/maps/place/Design+Build+Strategies/@34.1445468,-118.1147687,905m/data=!3m1!1e3!4m18!1m9!3m8!1s0x80c2dd8b704102f7:0x241ed1f3e82acf5d!2sDesign+Build+Strategies!8m2!3d34.1445424!4d-118.1121938!9m1!1b1!16s%2Fg%2F11jmywqgsh!3m7!1s0x80c2dd8b704102f7:0x241ed1f3e82acf5d!8m2!3d34.1445424!4d-118.1121938!9m1!1b1!16s%2Fg%2F11jmywqgsh!5m1!1e1?entry=ttu&g_ep=EgoyMDI1MDkwOC4wIKXMDSoASAFQAw%3D%3D" target="_blank" rel="noopener">
            <svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5a2 2 0 0 0-2 2v14l4-4h12a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg>
            <div>
              <div>Google Reviews</div>
              <div class="small">Read & Write reviews</div>
            </div>
          </a>
        </div>
      </div>

      <div class="section">
        <p class="h2">Social</p>
        <div class="grid">
          <a class="linkbtn" href="https://www.instagram.com/dbstrategies/" target="_blank" rel="noopener"><div>Instagram</div></a>
          <a class="linkbtn" href="https://www.linkedin.com/in/johnny-kanounji-a58b936/" target="_blank" rel="noopener"><div>LinkedIn</div></a>
          <a class="linkbtn" href="https://www.facebook.com/profile.php?id=100084723083924" target="_blank" rel="noopener"><div>Facebook</div></a>
          <a class="linkbtn" href="https://www.youtube.com/channel/UCpXTjsK6YZKbsE0Wa_kR1yw/featured" target="_blank" rel="noopener"><div>YouTube</div></a>
        </div>
      </div>

      <div class="divider"></div>

      <div class="footer">
        <span class="badge">¬© <span id="y"></span> Design Build Strategies</span>
      </div>
    </section>
  </main>

  <script>
    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // vCard data URL (inline, no separate file needed)
    (function(){
      const link = document.getElementById('vcardLink');
      if (!link) return;
      const org   = 'Design Build Strategies';
      const fn    = 'Johnny Kanounji';
      const title = 'Architect & General Contractor';
      const tel   = '+1-626-616-3633';
      const email = 'jkanounji@dbstrategies.net';
      const url   = 'https://www.dbstrategies.net';
      const iso = new Date().toISOString().replace(/[-:]/g,'');
      const rev = iso.substring(0,15) + 'Z';
      const vcard = [
        'BEGIN:VCARD','VERSION:3.0','N:Kanounji;Johnny;;;','FN:'+fn,'ORG:'+org,'TITLE:'+title,
        'TEL;TYPE=WORK,VOICE:'+tel,'EMAIL;TYPE=WORK:'+email,'URL;TYPE=WORK:'+url,'REV:'+rev,'END:VCARD'
      ].join('\n');
      link.href = 'data:text/vcard;charset=utf-8,' + encodeURIComponent(vcard);
    })();

    // --- Opening animation: center logo -> fly to header logo, reveal card ---
    window.addEventListener('load', () => {
      const intro   = document.getElementById('intro');
      const introEl = document.getElementById('introLogo');
      const card    = document.getElementById('mainCard');
      const headerLogo = document.getElementById('headerLogo');

      // Respect prefers-reduced-motion
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const showCard = () => requestAnimationFrame(() => card.classList.add('is-visible'));

      if (reduce){
        intro.classList.add('hidden');
        showCard();
        return;
      }

      const endBox = headerLogo.getBoundingClientRect();
      const startBox = introEl.getBoundingClientRect();

      const deltaX = (endBox.left + endBox.width/2) - (startBox.left + startBox.width/2);
      const deltaY = (endBox.top + endBox.height/2) - (startBox.top + startBox.height/2);
      const scaleX = endBox.width / startBox.width;
      const scaleY = endBox.height / startBox.height;

      const flyTiming = { duration: 850, easing: 'cubic-bezier(.2,.8,.2,1)', fill: 'forwards', delay: 150 };

      introEl.animate([
        { transform: 'translate(0,0) scale(1)', filter:'none', opacity:1 },
        { transform: `translate(${deltaX}px, ${deltaY}px) scale(${scaleX}, ${scaleY})`, opacity:1 }
      ], flyTiming).onfinish = () => {
        intro.classList.add('hidden');
      };

      setTimeout(showCard, 250);
      setTimeout(() => intro.remove(), 1200);
    });

    // --- Minimal self-tests (dev console) ---
    (function tests(){
      try{
        const v = document.getElementById('vcardLink');
        console.assert(v && v.getAttribute('download'), 'vCard link missing download attr');
        setTimeout(()=>{ console.assert(/^data:text\/vcard/.test(v.href), 'vCard href not set'); }, 0);
      }catch(e){ /* noop */ }
    })();
  </script>
</body>
</html>
